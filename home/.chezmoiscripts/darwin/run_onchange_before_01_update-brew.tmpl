{{- includeTemplate "universal/common-before-template-header" . -}}

eval $({{ .brew.path }} shellenv)
{{- includeTemplate "universal/sudo-keep-alive" . }}
echo "ğŸº Updating Homebrewâ€¦"
brew update
{{- if .host.interactive }}
echo "ğŸ“¦ Upgrading formulaeâ€¦"
brew upgrade
echo "ğŸ§° Upgrading casksâ€¦"
brew upgrade --cask --greedy || echo "âš ï¸  Some casks failed to upgrade"
echo "ğŸ§¹ Cleaning upâ€¦"
brew cleanup
echo "âœ… Homebrew updated."
{{- end -}}
