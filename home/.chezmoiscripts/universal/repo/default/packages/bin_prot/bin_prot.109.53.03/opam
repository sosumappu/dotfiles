opam-version: "2.0"
maintainer: "Jane Street developers"
homepage: "https://github.com/janestreet/bin_prot"
license: "Apache-2.0"
build: [
  [make]
]
patches: ["fix-arm-double-field.diff"]
remove: [["ocamlfind" "remove" "bin_prot"]]
depends: [
  "ocaml" {>= "4.00.0" & < "4.03"}
  "camlp4"
  "ocamlfind"
  "type_conv" {>= "109.53.00" & <= "109.60.01"}
  "ocamlbuild" {build}
]
bug-reports: "https://github.com/janestreet/bin_prot/issues"
dev-repo: "git+https://github.com/janestreet/bin_prot.git"
install: [[make "install"]]
authors: ["Jane Street Group, LLC"]
synopsis: "A binary protocol generator"
description: """
Part of Jane Streetâ€™s Core library
The Core suite of libraries is an industrial strength alternative to
OCaml's standard library that was developed by Jane Street, the
largest industrial user of OCaml."""
flags: light-uninstall
url {
  src:
    "https://ocaml.janestreet.com/ocaml-core/109.53.00/individual/bin_prot-109.53.03.tar.gz"
  checksum: [
    "sha256=d50167bebb98837c859c5333f568834c77e1464ddde59c095eea466d30bcfcb3"
    "md5=415888ab424dbbd5fa848edc35a5dc58"
  ]
}
extra-source "fix-arm-double-field.diff" {
  src:
    "https://raw.githubusercontent.com/ocaml/opam-source-archives/main/patches/bin_prot/fix-arm-double-field.diff"
  checksum: [
    "sha256=93d8bd22f507a7bbbbc7ad9a61539c96093afdbfa77a81305f15c867a2e08925"
    "md5=6ab51f6ae53d8afb0881f98393c3283a"
  ]
}
