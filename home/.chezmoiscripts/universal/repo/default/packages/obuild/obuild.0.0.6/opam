opam-version: "2.0"
homepage: "https://github.com/ocaml-obuild/obuild"
bug-reports: "https://github.com/ocaml-obuild/obuild/issues"
authors: ["Vincent Hanquez" "Jerome Maloberti"]

maintainer: "tab@snarc.org"
build: [
  ["./bootstrap"]
]
dev-repo: "git+https://github.com/ocaml-obuild/obuild"
synopsis: "simple package build system for OCaml"
description: """
The goal is to make a very simple build system for users and developers 
of OCaml library and programs.

Obuild acts as a building black box: users only declare what they want to 
build and with which sources; the build system will consistently 
build it.

The design is based on Haskell's Cabal and borrows most of the layout
and way of working, adapting parts where necessary to fully support OCaml."""
depends: [
  "ocaml" {< "4.06.0"}
]
conflicts: [
  "ocamlfind" {>= "1.8.0"} # does not support warning(..) = "..." in META files
]
url {
  src: "https://github.com/ocaml-obuild/obuild/archive/obuild-v0.0.6.tar.gz"
  checksum: [
    "sha256=6097513d6390d6f0a8d78ab0fcc89a1b3b8c2eb6b4e6a798955da84d074eb619"
    "md5=da9311e516d947d4991472395d27faef"
  ]
}
extra-source "obuild.install" {
  src:
    "https://raw.githubusercontent.com/ocaml/opam-source-archives/main/patches/obuild/obuild.install"
  checksum: [
    "sha256=c1e726cf5ac480754c7940884c5a94727b1c771b294ff61cc5848e973605d3ae"
    "md5=473285d99104b78287c58bea4795edc7"
  ]
}
